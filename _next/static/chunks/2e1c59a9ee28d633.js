(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},90980,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(24092),a=e.i(18566),l=e.i(16973);function n(){let{user:e,isLoggedIn:n,updateUser:o}=(0,r.useAuth)(),i=(0,a.useRouter)(),[d,c]=(0,s.useState)(!1),[x,p]=(0,s.useState)({type:"",text:""}),[m,u]=(0,s.useState)({name:e?.name||"",gender:e?.gender||"MALE",birthday:e?.birthday||"",phone:e?.phone||"",bio:e?.bio||"",fb_link:e?.fb_link||"",ig_link:e?.ig_link||"",yt_link:e?.yt_link||"",oldPassword:"",password:"",confirmPassword:""}),[h,b]=(0,s.useState)(e?.avatar||null),[f,g]=(0,s.useState)({old:!1,new:!1,confirm:!1}),[j,v]=(0,s.useState)({type:null,step:"idle",target:"",code:"",countdown:0});(0,s.useEffect)(()=>{n||d||i.push("/")},[n,i,d]),(0,s.useEffect)(()=>{e&&(u({...m,name:e.name||"",gender:e.gender||"MALE",birthday:e.birthday||"",phone:e.phone||"",bio:e.bio||"",fb_link:e.fb_link||"",ig_link:e.ig_link||"",yt_link:e.yt_link||""}),b(e.avatar||null))},[e]);let y=async(e,t)=>{if(!t)return void p({text:`請輸入${"email"===e?"電子郵件":"手機號碼"}`,type:"error"});c(!0);let s=await l.SportApi.sendVerificationCode(t,e);c(!1),200===s.status?(v({...j,type:e,step:"coding",target:t,countdown:60}),p({text:"驗證碼已發送",type:"success"})):p({text:s.message||"發送失敗",type:"error"})},w=async()=>{if(!j.code||!j.type)return;c(!0);let e=await l.SportApi.verifyCode(j.target,j.code,j.type);if(c(!1),200===e.status){p({text:"綁定成功",type:"success"}),v({...j,step:"idle",code:"",countdown:0});let e=l.SportApi.getCurrentUser();e&&o(e)}else p({text:e.message||"驗證碼錯誤",type:"error"})},k=async(e,t="full")=>{if(e.preventDefault(),c(!0),p({text:"",type:""}),"basic"===t||"full"===t){if(m.name.length<2||m.name.length>20){p({text:"名稱限制 2-20 字元",type:"error"}),c(!1);return}if(m.bio.length>300){p({text:"個人簡介限制 300 字元",type:"error"}),c(!1);return}}if(("password"===t||"full"===t)&&m.password){if(!/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,16}$/.test(m.password)){p({text:"新密碼需為 8-16 碼，含英文與數字",type:"error"}),c(!1);return}if(m.password!==m.confirmPassword){p({text:"新密碼與確認密碼不符",type:"error"}),c(!1);return}}let s={};("basic"===t||"full"===t)&&(s.name=m.name,s.gender=m.gender,s.birthday=m.birthday,s.bio=m.bio,s.fb_link=m.fb_link,s.ig_link=m.ig_link,s.yt_link=m.yt_link,h&&(s.avatar=h)),("password"===t||"full"===t)&&m.password&&(s.password=m.password);let r=await o(s);c(!1),r.success?(p({text:"password"===t?"密碼修改成功":"資料更新成功",type:"success"}),"password"===t&&u({...m,oldPassword:"",password:"",confirmPassword:""})):p({text:r.message,type:"error"})},N=(e,t)=>{if(!e)return"";if("phone"===t)return e.replace(/(\d{4})\d{3}(\d{3})/,"$1***$2");let[s,r]=e.split("@");return`${s.slice(0,3)}***@${r}`};return n?(0,t.jsx)("main",{className:"min-h-screen pt-32 pb-20 bg-slate-50",children:(0,t.jsxs)("div",{className:"container mx-auto px-6 max-w-5xl",children:[(0,t.jsxs)("div",{className:"mb-10 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-black text-slate-900 mb-2",children:"帳號設定"}),(0,t.jsx)("p",{className:"text-slate-400 font-bold text-sm",children:"管理您的個人資訊與帳號安全"})]}),(0,t.jsxs)("button",{onClick:()=>i.push("/"),className:"h-12 px-6 bg-white border border-slate-200 rounded-2xl text-xs font-black text-slate-500 hover:text-brand-primary hover:border-brand-primary/30 transition-all flex items-center gap-2 shadow-sm",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"返回首頁"]})]}),(0,t.jsxs)("form",{onSubmit:e=>k(e,"full"),className:"space-y-12",children:[(0,t.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-xl shadow-slate-200/50 p-8 sm:p-12 lg:p-14",children:[(0,t.jsxs)("div",{className:"mb-10 flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-black text-slate-800 flex items-center gap-4",children:[(0,t.jsx)("span",{className:"w-10 h-10 rounded-xl bg-brand-primary/10 text-brand-primary flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),"基本資料"]}),(0,t.jsx)("button",{onClick:e=>k(e,"basic"),disabled:d,className:"h-12 px-8 bg-brand-primary text-white text-sm font-black rounded-2xl shadow-lg shadow-brand-primary/20 hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-2",children:d?(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"儲存基本資料"})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-12",children:[(0,t.jsxs)("div",{className:"shrink-0 flex flex-col items-center",children:[(0,t.jsxs)("label",{className:"relative group cursor-pointer block",children:[(0,t.jsx)("input",{type:"file",className:"hidden",accept:"image/png, image/jpeg",onChange:e=>{let t=e.target.files?.[0];if(!t)return;if(t.size>2097152)return void p({text:"僅支援 2MB 以內之圖片檔",type:"error"});let s=new FileReader;s.onloadend=()=>{b(s.result)},s.readAsDataURL(t)}}),(0,t.jsxs)("div",{className:"w-36 h-36 rounded-[2.8rem] bg-slate-100 border-4 border-white shadow-2xl shadow-slate-200/80 overflow-hidden relative group cursor-pointer ring-1 ring-slate-100",children:[h?(0,t.jsx)("img",{src:h,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-brand-primary/10 text-brand-primary text-5xl font-black",children:e?.name?.charAt(0)}),(0,t.jsx)("div",{className:"absolute inset-0 bg-brand-heading/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,t.jsxs)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),(0,t.jsx)("p",{className:"mt-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"支援 JPG/PNG, < 2MB"})]}),(0,t.jsxs)("div",{className:"flex-1 space-y-8",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-3 ml-1 flex justify-between",children:["名稱 (Username)",(0,t.jsxs)("span",{className:m.name.length<2||m.name.length>20?"text-red-500":"text-slate-300",children:[m.name.length,"/20"]})]}),(0,t.jsx)("input",{type:"text",value:m.name,onChange:e=>u({...m,name:e.target.value}),className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:ring-4 focus:ring-brand-primary/5 focus:border-brand-primary/30 transition-all",placeholder:"2-20 字元"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-3 ml-1",children:"性別 (Gender)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:m.gender,onChange:e=>u({...m,gender:e.target.value}),className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:ring-4 focus:ring-brand-primary/5 focus:border-brand-primary/30 transition-all appearance-none",children:[(0,t.jsx)("option",{value:"MALE",children:"男性"}),(0,t.jsx)("option",{value:"FEMALE",children:"女性"})]}),(0,t.jsx)("div",{className:"absolute right-6 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-3 ml-1",children:"生日 (Birthday)"}),(0,t.jsx)("input",{type:"date",max:new Date().toISOString().split("T")[0],value:m.birthday,onChange:e=>u({...m,birthday:e.target.value}),className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:ring-4 focus:ring-brand-primary/5 focus:border-brand-primary/30 transition-all"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-3 ml-1",children:"FB 連結"}),(0,t.jsx)("input",{type:"text",value:m.fb_link,onChange:e=>u({...m,fb_link:e.target.value}),placeholder:"https://facebook.com/...",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:ring-4 focus:ring-brand-primary/5 focus:border-brand-primary/30 transition-all"})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-3 ml-1",children:"IG 連結"}),(0,t.jsx)("input",{type:"text",value:m.ig_link,onChange:e=>u({...m,ig_link:e.target.value}),placeholder:"https://instagram.com/...",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:ring-4 focus:ring-brand-primary/5 focus:border-brand-primary/30 transition-all"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-3 ml-1",children:"Youtube 連結"}),(0,t.jsx)("input",{type:"text",value:m.yt_link,onChange:e=>u({...m,yt_link:e.target.value}),placeholder:"https://youtube.com/...",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:ring-4 focus:ring-brand-primary/5 focus:border-brand-primary/30 transition-all"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-3 ml-1 flex justify-between",children:["個人簡介",(0,t.jsxs)("span",{className:m.bio.length>300?"text-red-500":"text-slate-300",children:[m.bio.length,"/300"]})]}),(0,t.jsx)("textarea",{rows:4,value:m.bio,onChange:e=>u({...m,bio:e.target.value}),placeholder:"對外展示的簡短介紹...",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:ring-4 focus:ring-brand-primary/5 focus:border-brand-primary/30 transition-all resize-none"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-xl shadow-slate-200/50 p-8 sm:p-12 lg:p-14",children:[(0,t.jsxs)("div",{className:"mb-10 flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-black text-slate-800 flex items-center gap-4",children:[(0,t.jsx)("span",{className:"w-10 h-10 rounded-xl bg-orange-500/10 text-orange-500 flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),"修改密碼"]}),(0,t.jsx)("button",{onClick:e=>k(e,"password"),disabled:d||!m.password,className:"h-12 px-8 bg-orange-500 text-white text-sm font-black rounded-2xl shadow-lg shadow-orange-500/20 hover:scale-105 active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:scale-100",children:d?(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"儲存新密碼"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-3 ml-1",children:"目前密碼"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:f.old?"text":"password",value:m.oldPassword,onChange:e=>u({...m,oldPassword:e.target.value}),placeholder:"必填",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:ring-4 focus:ring-brand-primary/5 focus:border-brand-primary/30 transition-all"}),(0,t.jsx)("button",{type:"button",onClick:()=>g({...f,old:!f.old}),className:"absolute right-6 top-1/2 -translate-y-1/2 text-slate-400 hover:text-brand-primary transition-colors",children:f.old?(0,t.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88L4.5 4.5m9.938 3.388a9.461 9.461 0 015.104 4.112 10.133 10.133 0 01-1.947 3.461m-3.32-3.321L20.5 19.5"})})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-3 ml-1",children:"新密碼 (8-16 碼英數)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:f.new?"text":"password",value:m.password,onChange:e=>u({...m,password:e.target.value}),placeholder:"必填",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:ring-4 focus:ring-brand-primary/5 focus:border-brand-primary/30 transition-all"}),(0,t.jsx)("button",{type:"button",onClick:()=>g({...f,new:!f.new}),className:"absolute right-6 top-1/2 -translate-y-1/2 text-slate-400 hover:text-brand-primary transition-colors",children:f.new?(0,t.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88L4.5 4.5m9.938 3.388a9.461 9.461 0 015.104 4.112 10.133 10.133 0 01-1.947 3.461m-3.32-3.321L20.5 19.5"})})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-3 ml-1",children:"確認新密碼"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:f.confirm?"text":"password",value:m.confirmPassword,onChange:e=>u({...m,confirmPassword:e.target.value}),placeholder:"必填",className:"w-full px-6 py-4 bg-slate-50 border border-slate-100 rounded-2xl text-sm font-bold focus:outline-none focus:ring-4 focus:ring-brand-primary/5 focus:border-brand-primary/30 transition-all"}),(0,t.jsx)("button",{type:"button",onClick:()=>g({...f,confirm:!f.confirm}),className:"absolute right-6 top-1/2 -translate-y-1/2 text-slate-400 hover:text-brand-primary transition-colors",children:f.confirm?(0,t.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88L4.5 4.5m9.938 3.388a9.461 9.461 0 015.104 4.112 10.133 10.133 0 01-1.947 3.461m-3.32-3.321L20.5 19.5"})})})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-xl shadow-slate-200/50 p-8 sm:p-12 lg:p-14",children:[(0,t.jsxs)("h2",{className:"text-xl font-black text-slate-800 mb-10 flex items-center gap-4",children:[(0,t.jsx)("span",{className:"w-10 h-10 rounded-xl bg-indigo-500/10 text-indigo-500 flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.828a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),"資料綁定"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"p-8 bg-slate-50 rounded-[2.5rem] border border-slate-100 flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-5",children:[(0,t.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-white flex items-center justify-center text-slate-400 shadow-sm",children:(0,t.jsx)("svg",{className:"w-7 h-7",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"電子郵件 (Email)"}),(0,t.jsx)("p",{className:"text-sm font-black text-slate-800",children:e?.email_verified?N(e.email,"email"):"尚未驗證"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[e?.email_verified&&(0,t.jsx)("span",{className:"px-4 py-1.5 bg-emerald-50 text-emerald-500 rounded-full text-[10px] font-black uppercase tracking-wider border border-emerald-100",children:"已驗證"}),e?.email_verified&&"email"!==j.type&&(0,t.jsx)("button",{onClick:()=>v({...j,type:"email",step:"idle",target:""}),className:"text-xs font-black text-brand-primary hover:text-brand-secondary transition-colors",children:"修改"})]})]}),(!e?.email_verified||"email"===j.type)&&(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t border-slate-200/50",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("input",{type:"email",disabled:"email"===j.type&&"coding"===j.step,value:"email"===j.type?j.target:"",onChange:e=>v({...j,type:"email",target:e.target.value}),placeholder:"輸入新的 Email",className:"flex-1 px-5 py-3.5 bg-white border border-slate-200 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-brand-primary/5 focus:border-brand-primary/30 outline-none transition-all"}),(0,t.jsx)("button",{onClick:()=>y("email",j.target),disabled:d||j.countdown>0,className:"px-6 bg-brand-primary text-white text-xs font-black rounded-2xl hover:bg-brand-secondary disabled:opacity-50 transition-all whitespace-nowrap",children:j.countdown>0?`重新發送 (${j.countdown}s)`:"發送驗證信"})]}),"email"===j.type&&"coding"===j.step&&(0,t.jsxs)("div",{className:"flex gap-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[(0,t.jsx)("input",{type:"text",maxLength:6,value:j.code,onChange:e=>v({...j,code:e.target.value}),placeholder:"輸入 6 位驗證碼",className:"flex-1 px-5 py-3.5 bg-white border border-brand-primary/20 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-brand-primary/5 focus:border-brand-primary/30 outline-none transition-all"}),(0,t.jsx)("button",{onClick:w,disabled:d||6!==j.code.length,className:"px-8 bg-brand-heading text-white text-xs font-black rounded-2xl hover:bg-black disabled:opacity-50 transition-all",children:d?"核驗中...":"確認綁定"})]})]})]}),(0,t.jsxs)("div",{className:"p-8 bg-slate-50 rounded-[2.5rem] border border-slate-100 flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-5",children:[(0,t.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-white flex items-center justify-center text-slate-400 shadow-sm",children:(0,t.jsx)("svg",{className:"w-7 h-7",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 19H7V4h10v16zm-5-1c.55 0 1-.45 1-1s-.45-1-1-1-1 .45-1 1 .45 1 1 1z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"手機號碼 (Phone)"}),(0,t.jsx)("p",{className:"text-sm font-black text-slate-800",children:e?.phone_verified?N(e.phone,"phone"):"尚未驗證"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[e?.phone_verified&&(0,t.jsx)("span",{className:"px-4 py-1.5 bg-emerald-50 text-emerald-500 rounded-full text-[10px] font-black uppercase tracking-wider border border-emerald-100",children:"已驗證"}),e?.phone_verified&&"phone"!==j.type&&(0,t.jsx)("button",{onClick:()=>v({...j,type:"phone",step:"idle",target:""}),className:"text-xs font-black text-brand-primary hover:text-brand-secondary transition-colors",children:"修改"})]})]}),(!e?.phone_verified||"phone"===j.type)&&(0,t.jsxs)("div",{className:"space-y-4 pt-4 border-t border-slate-200/50",children:[(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("input",{type:"tel",disabled:"phone"===j.type&&"coding"===j.step,value:"phone"===j.type?j.target:"",onChange:e=>v({...j,type:"phone",target:e.target.value}),placeholder:"輸入手機號碼 (09...)",className:"flex-1 px-5 py-3.5 bg-white border border-slate-200 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-brand-primary/5 focus:border-brand-primary/30 outline-none transition-all"}),(0,t.jsx)("button",{onClick:()=>y("phone",j.target),disabled:d||j.countdown>0,className:"px-6 bg-brand-primary text-white text-xs font-black rounded-2xl hover:bg-brand-secondary disabled:opacity-50 transition-all whitespace-nowrap",children:j.countdown>0?`重新發送 (${j.countdown}s)`:"發送驗證碼"})]}),"phone"===j.type&&"coding"===j.step&&(0,t.jsxs)("div",{className:"flex gap-3 animate-in fade-in slide-in-from-top-2 duration-300",children:[(0,t.jsx)("input",{type:"text",maxLength:6,value:j.code,onChange:e=>v({...j,code:e.target.value}),placeholder:"輸入 6 位驗證碼",className:"flex-1 px-5 py-3.5 bg-white border border-brand-primary/20 rounded-2xl text-sm font-bold focus:ring-4 focus:ring-brand-primary/5 focus:border-brand-primary/30 outline-none transition-all"}),(0,t.jsx)("button",{onClick:w,disabled:d||6!==j.code.length,className:"px-8 bg-brand-heading text-white text-xs font-black rounded-2xl hover:bg-black disabled:opacity-50 transition-all",children:d?"核驗中...":"確認綁定"})]})]})]})]})]}),x.text&&(0,t.jsxs)("div",{className:`p-6 rounded-[2rem] text-sm font-bold flex items-center gap-5 animate-in slide-in-from-top-4 duration-500 shadow-lg ${"success"===x.type?"bg-emerald-50/80 backdrop-blur text-emerald-600 border border-emerald-100":"bg-red-50/80 backdrop-blur text-red-600 border border-red-100"}`,children:[(0,t.jsx)("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center shrink-0 ${"success"===x.type?"bg-emerald-100":"bg-red-100"}`,children:"success"===x.type?(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):(0,t.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),x.text]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6 pt-10",children:[(0,t.jsx)("button",{type:"submit",disabled:d,className:`flex-[2] min-h-[4.5rem] bg-brand-primary text-white rounded-[2rem] text-lg font-black shadow-2xl shadow-brand-primary/30 hover:bg-brand-secondary transition-all flex items-center justify-center gap-4 transform hover:-translate-y-1.5 active:scale-95 ${d?"opacity-70 cursor-not-allowed":""}`,children:d?(0,t.jsxs)("svg",{className:"animate-spin h-7 w-7 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M5 13l4 4L19 7"})}),"儲存所有變更"]})}),(0,t.jsx)("button",{type:"button",onClick:()=>i.back(),className:"flex-1 min-h-[4.5rem] bg-slate-100 text-slate-500 rounded-[2rem] font-black hover:bg-slate-200 transition-all active:scale-95 border border-slate-200",children:"放棄修改並返回"})]})]})]})}):null}e.s(["default",()=>n])}]);