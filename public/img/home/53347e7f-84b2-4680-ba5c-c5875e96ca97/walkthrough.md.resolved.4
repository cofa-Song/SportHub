# 財務與商品配置功能驗證 (Financial & Commodity Verification)

## 1. 人工存提管理 (OPE-603)
驗證玩家資金手動調整功能。

- [ ] **1.1 玩家搜尋**:
    - **操作**: 輸入玩家 ID `PLAYER_001` 並點擊「鎖定對象」。
    - **預期**: 顯示玩家帳號、暱稱、標籤及 Cash/Bonus 餘額。
- [ ] **1.2 存款操作 (加點)**:
    - **操作**: 選擇「人工存款」，金額 `100`，原因「活動給予」，備註「測試加點」。
    - **預期**: 提交後顯示「操作成功」，餘額自動更新 +100。
- [ ] **1.3 提款操作 (扣點)**:
    - **操作**: 選擇「人工提款」，金額超過餘額。
    - **預期**: 表單驗證報錯「餘額不足以扣除」。
- [ ] **1.4 線下充值憑證**:
    - **操作**: 選擇「線下儲值」原因，不選圖片提交。
    - **預期**: 報錯「線下充值必須上傳憑證」。

## 2. 財務概覽看板 (OPE-604)
驗證數據聚合與權限管理。

- [ ] **2.1 時間篩選**:
    - **操作**: 切換「今日」、「昨日」。
    - **預期**: 數據刷新，KPI 卡片數值變動。
- [ ] **2.2 測試帳號排除**:
    - **操作**: 切換「排除測試帳號」勾選。
    - **預期**: 淨營收等數據重新計算。
- [ ] **2.3 權限控制**:
    - **操作**: 以非管理員角色(如 GUEST)登入 (Mock 中可手動調整 authStore 模擬)。
    - **預期**: 「淨營收」卡片顯示骨架屏 (Skeleton)，無法查看到具體數值。
- [ ] **2.4 新增指標驗證**:
    - **操作**: 觀察看板下方兩排 KPI。
    - **預期**: 顯示「總派發」、「入金轉換率」以及「總派發結構」圓餅圖。
- [ ] **2.5 異常操作警示**:
    - **操作**: (Mock) 將 [finance.ts](file:///c:/Users/Administrator/Desktop/%E7%87%9F%E9%81%8B%E5%BE%8C%E5%8F%B0/src/api/finance.ts) 中的 `manualAddCash` 改為 `60000` (超過 50k)。
    - **預期**: 「人工加點合計」卡片會紅色閃爍並顯示「異常高」標籤，出現「查看詳情」按鈕。

## 3. 商品配置管理 (OPE-606)
驗證商品上架與行銷工具。

- [ ] **3.1 圖片上傳與預覽**:
    - **操作**: 點擊「新增商品」，填入圖片 URL。
    - **期望**: 預覽區顯示圖片。
- [ ] **3.2 行銷角標連動**:
    - **操作**: 在「管理行銷角標」中新增。
    - **Action**: 在商品編輯中選擇該角標。
    - **預期**: 圖片預覽區右上角正確顯示角標疊圖。
- [ ] **3.3 平台定價防呆**:
    - **操作**: 啟用 iOS 定價，輸入非標準 Tier 價格 (如 `50`)。
    - **預期**: 出現警告「建議設為 Apple Tier 標準」。

## 4. 系統修復驗證
- [x] **元件解析**: 進入以上三個頁面，控制台不應出現 `Failed to resolve component: n-xxx` 警告。
- [x] **類型安全**: 所有 View 元件均無 TypeScript 類型錯誤，確保編譯通過。
